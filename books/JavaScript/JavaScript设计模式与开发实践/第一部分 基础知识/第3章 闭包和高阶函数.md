# 第 3 章 闭包和高阶函数

虽然 JavaScript 是一门完整的面向对象的编程语言，但这门语言同时也拥有许多函数式语言的特性。

函数式语言的鼻祖是 LISP, JavaScript 在设计之初参考了 LISP 两大方言之一的 Scheme，引入了 Lambda 表达式、闭包、高阶函数等特性。使用这些特性，我们经常可以用一些灵活而巧妙的方式来编写 JavaScript 代码。

本章主要挑选了闭包和高阶函数进行讲解。在 JavaScript 版本的设计模式中，`许多模式都可以用闭包和高阶函数来实现`。

## 3.1 闭包

## 3.2 高阶函数

高阶函数是指至少满足下列条件之一的函数。

1. 函数可以作为参数被传递；
2. 函数可以作为返回值输出。

JavaScript 语言中的函数显然满足高阶函数的条件，在实际开发中，无论是将函数当作参数传递，还是让函数的执行结果返回另外一个函数，这两种情形都有很多应用场景，下面就列举一些高阶函数的应用场景。

### 3.2.1 函数作为参数传递

1. 回调函数
2. Array.prototype.sort

### 3.2.2 函数作为返回值输出

1. 判断数据的类型
2. getSingle

### 3.2.3 高阶函数实现 AOP

AOP（面向切面编程）的主要作用是把一些跟核心业务逻辑模块无关的功能抽离出来，这些跟业务逻辑无关的功能通常包括日志统计、安全控制、异常处理等。

### 3.2.4 高阶函数的其他应用

## 3.3 小结

在进入设计模式的学习之前，本章挑选了闭包和高阶函数来进行讲解。这是因为在 JavaScript 开发中，闭包和高阶函数的应用极多。就设计模式而言，因为 JavaScript 这门语言的自身特点，许多设计模式在 JavaScript 之中的实现跟在一些传统面向对象语言中的实现相差很大。在 JavaScript 中，很多设计模式都是通过闭包和高阶函数实现的。这并不奇怪，相对于模式的实现过程，我们更关注的是模式可以帮助我们完成什么。

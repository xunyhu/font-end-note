# 第 2 章 数组

## 2.1 JavaScript 中对数组的定义

数组的标准定义是：一个存储元素的线性集合（collection）​，元素可以通过索引来任意存取，索引通常是数字，用来计算元素之间存储位置的偏移量。几乎所有的编程语言都有类似的数据结构。

JavaScript 中的数组是一种特殊的对象，用来表示偏移量的索引是该对象的属性，索引可能是整数。然而，这些数字索引在内部被转换为字符串类型，这是因为 JavaScript 对象中的属性名必须是字符串。数组在 JavaScript 中只是一种特殊的对象，所以效率上不如其他语言中的数组高。

JavaScript 中的数组，严格来说应该称作对象，是特殊的 JavaScript 对象，在内部被归类为数组。由于 Array 在 JavaScript 中被当作对象，因此它有许多属性和方法可以在编程时使用。

## 2.2 使用数组

### 2.2.1 创建数组

## 2.3 存取函数

JavaScript 提供了一组用来访问数组元素的函数，叫做存取函数，这些函数返回目标数组的某种变体。

### 2.3.1 查找元素

indexOf()函数是最常用的存取函数之一，用来查找传进来的参数在目标数组中是否存在。如果目标数组包含该参数，就返回该元素在数组中的索引；如果不包含，就返回-1。

### 2.3.2 数组的字符串表示

有两个方法可以将数组转化为字符串：join()和 toString()。这两个方法都返回一个包含数组所有元素的字符串，`各元素之间用逗号分隔开`。

### 2.3.3 由已有数组创建新数组

concat()和 splice()方法允许通过已有数组创建新数组。concat 方法可以合并多个数组创建一个新数组，splice()方法截取一个数组的子集创建一个新数组。

## 2.4 可变函数

JavaScript 拥有一组可变函数，使用它们，可以不必引用数组中的某个元素，就能改变数组内容

### 2.4.1 为数组添加元素

有两个方法可以为数组添加元素：push()和 unshift()。

### 2.4.2 从数组中删除元素

使用 pop()方法可以删除数组末尾的元素

shift()方法可以删除数组的第一个元素

### 2.4.3 从数组中间位置添加和删除元素

删除数组中的第一个元素和在数组开头添加一个元素存在同样的问题——两种操作都需要将数组中的剩余元素向前或向后移，然而 splice()方法可以帮助我们执行其中任何一种操作。

使用 splice()方法为数组添加元素，需提供如下参数：

• 起始索引（也就是你希望开始添加元素的地方）​；

• 需要删除的元素个数（添加元素时该参数设为 0）​；

• 想要添加进数组的元素。

### 2.4.4 为数组排序

第一个方法是 reverse()，该方法将数组中元素的顺序进行翻转。

sort()方法是按照字典顺序对元素进行排序的，因此它假定元素都是字符串类型，在上一个例子中，即使元素是数字类型，也被认为是字符串类型。为了让 sort()方法也能排序数字类型的元素，可以在调用方法时传入一个大小比较函数，排序时，sort()方法将会根据该函数比较数组中两个元素的大小，从而决定整个数组的顺序。

## 2.5 迭代器方法

最后一组方法是迭代器方法。这些方法对数组中的每个元素应用一个函数，可以返回一个值、一组值或者一个新数组。

### 2.5.1 不生成新数组的迭代器方法

这组中的第一个方法是 forEach()，该方法接受一个函数作为参数，对数组中的每个元素使用该函数。

另一个迭代器方法是 every()，该方法接受一个返回值为布尔类型的函数，对数组中的每个元素使用该函数。如果对于所有的元素，该函数均返回 true，则该方法返回 true。

### 2.5.2 生成新数组的迭代器方法

有两个迭代器方法可以产生新数组：map()和 filter()。map()和 forEach()有点儿像，对数组中的每个元素使用某个函数。两者的区别是 map()返回一个新的数组，该数组的元素是对原有元素应用某个函数得到的结果。

## 2.6 二维和多维数组

### 2.6.1 创建二维数组

### 2.6.2 处理二维数组的元素

### 2.6.3 参差不齐的数组

参差不齐的数组是指数组中每行的元素个数彼此不同。有一行可能包含三个元素，另一行可能包含五个元素，有些行甚至只包含一个元素。很多编程语言在处理这种参差不齐的数组时表现都不是很好，但是 JavaScript 却表现良好，因为每一行的长度是可以通过计算得到的。

## 2.7 对象数组

到现在为止，本章讨论的数组都只包含基本数据类型的元素，比如数字和字符串。数组还可以包含对象，数组的方法和属性对对象依然适用。

## 2.8 对象中的数组

## 2.9 练习

1. 创建一个记录学生成绩的对象，提供一个添加成绩的方法，以及一个显示学生平均成绩的方法。
2. 将一组单词存储在一个数组中，并按正序和倒序分别显示这些单词。
3. 修改本章前面出现过的 weeklyTemps 对象，使它可以使用一个二维数组来存储每月的有用数据。增加一些方法用以显示月平均数、具体某一周平均数和所有周的平均数。
4. 创建这样一个对象，它将字母存储在一个数组中，并且用一个方法可以将字母连在一起，显示成一个单词。
